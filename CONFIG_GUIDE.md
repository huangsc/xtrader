# 🔧 配置文件使用指南

## 📝 概述

交易机器人v2.1版本支持**带注释的JSON配置文件**，让您可以在配置文件中直接看到每个参数的详细说明，无需在代码和文档之间来回切换。

## ✨ 新功能特性

### 1. 支持行尾注释
```json
{
  "leverage": 2,                       // 杠杆倍数 - 建议1-3倍，过高风险极大
  "risk_percent": 0.0225,              // 单笔风险比例 - 每笔交易风险占总资金的百分比(2.25%)
  "testnet": true                      // 测试模式 - true为测试环境，false为实盘环境
}
```

### 2. 配置分组说明
每个配置组都有清晰的分割线和说明：
```json
// ======================
// API 配置 - 交易所连接设置
// ======================
"api": {
  // ... 配置项
}
```

### 3. 详细参数说明
每个配置项都有三层说明：
- **参数名**: 配置项的标识
- **简短描述**: 参数的作用
- **详细说明**: 参数的具体含义和建议值

## 📋 配置分组详解

### 🔗 API配置 (api)
连接币安交易所的基础设置
- 包含API密钥对和测试模式开关
- 实盘交易需要输入'YES'确认

### 📱 Telegram通知 (telegram)  
消息推送设置
- 机器人Token从@BotFather获取
- 支持个人和群组通知

### 💰 核心交易参数 (trading)
策略的核心配置
- 杠杆和风险比例直接影响盈亏
- 建议新手使用保守参数

### 🛡️ 安全保护参数 (safety)
系统安全防护设置
- 滑点保护和API重试机制
- 系统资源监控

### ⚠️ 风险控制参数 (risk_control)
资金保护机制
- 设置资金上下限
- 回撤和亏损限制

### 🪙 交易品种配置 (symbols)
每个交易品种的独立设置
- 支持多币种风险分配
- 策略类型相关的止盈止损倍数

### ⚙️ 系统运行参数 (system)
系统运行时的技术参数
- 日志和监控配置
- 性能优化参数

## 🎯 使用建议

### 新手配置
```json
{
  "trading": {
    "leverage": 1,                     // 新手建议无杠杆
    "risk_percent": 0.02,              // 保守的2%风险
    "max_daily_trades": 2              // 限制交易频次
  },
  "api": {
    "testnet": true                    // 务必先测试
  }
}
```

### 进阶配置
```json  
{
  "trading": {
    "leverage": 2,                     // 适度杠杆
    "risk_percent": 0.025,             // 平衡风险收益
    "max_daily_trades": 4              // 适中交易频次
  }
}
```

### 高级配置
```json
{
  "trading": {
    "leverage": 3,                     // 较高杠杆（需要经验）
    "risk_percent": 0.03,              // 激进风险配置
    "max_daily_trades": 6              // 高频交易
  },
  "safety": {
    "max_slippage": 0.01,              // 更宽松的滑点容忍
    "volatility_factor": 2.0           // 接受更高波动
  }
}
```

## ⚡ 配置加载原理

系统使用智能JSON解析器：
1. 读取带注释的配置文件
2. 智能去除 `//` 行尾注释
3. 保护字符串内的`//`字符
4. 解析为标准JSON格式
5. 验证配置参数合法性

## 🔍 配置验证

启动时系统会自动验证：
- ✅ 必需配置项完整性
- ✅ API密钥有效性  
- ✅ 参数数值范围
- ✅ 交易品种配置
- ✅ 实盘模式二次确认

## 💡 最佳实践

1. **测试优先**: 实盘前在testnet充分测试
2. **备份配置**: 保存不同场景的配置文件
3. **渐进调整**: 小幅调整参数观察效果
4. **定期回顾**: 根据交易表现优化配置
5. **风险控制**: 始终保持合理的风险参数

## 🚨 重要提醒

- 配置文件中的注释仅用于说明，不会影响程序运行
- 修改配置后需重启程序才能生效
- 重要参数变更前请备份原配置
- 实盘交易前务必理解每个参数的影响 